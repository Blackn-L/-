# 闭包

## 一、概念

内部函数引用外部函数的变量，且外部函数返回的是该内部函数，可以在内部函数访问外部函数作用域

## 二、优缺点

### 1、优点

1. 访问函数内部变量，且该变量长期存储在内存里
2. 避免变量污染全局
3. 把变量存到独立的作用域，作为该函数的私有成员存在

### 2、缺点

1. 可能导致内存消耗过大。因为闭包会把函数的变量存储在内存里，导致变量和函数无法被垃圾回收，增大了内存使用量，闭包过多可能导致内存泄漏
2. 影响处理速度。

## 三、应用场景

```javascript
function fun() {
    let count = 0
    function add() {
        count ++
        console.log(count)
    }
    return add
}

f1 = fun()
f1() // 1
f1() // 2，fun是add的父函数，add被赋予给了全局变量f1，add和fun一直存在内存中，所以count一直存在
fun()() // 1，这里count被重新定义成了0
```

